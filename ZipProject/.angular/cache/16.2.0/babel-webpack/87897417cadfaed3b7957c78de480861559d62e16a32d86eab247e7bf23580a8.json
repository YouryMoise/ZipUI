{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/macse/Downloads/ZipProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class FileSelectComponent {\n  constructor() {\n    this.sendValue = new EventEmitter();\n    this.d = new Map();\n    this.all_tags = [\"Piggy\", \"Yoga\", \"PAWS\", \"Dirt\", \"Lighthouse\", \"Art\", \"Block\", \"Storytime\", \"Scavenger\", \"Smoke\", \"Underliner\", \"Colors\", \"Com\", \"Shen\", \"Gratitude\", \"Seuss\", \"Fam\", \"Marcus\", \"Zumba\", \"Cage\", \"Cinderfit\", \"Walk4\", \"Cocktails\", \"Not\", \"Global\", \"GMD\", \"Jr\", \"Halloween\", \"Typoe\", \"Bootleg\", \"MLK\", \"Public\"];\n  }\n  ngOnInit() {\n    console.log(this.fileJSON);\n    this.d.set(\"l\", \"o\");\n    //console.log(this.d)\n    //this.callCountWait()\n    //console.log(this.d)\n  }\n\n  testFunction() {\n    this.sendValue.emit(this.d);\n  }\n  zipIsBad(word) {\n    /*Bad if\n    No Dash:\n    Not 5 characters\n    Not numeric\n    \n    With Dash:\n    Not 5 characters before and after dash\n    \n    */\n    if (word.includes(\"-\")) {\n      let dashIndex = word.indexOf(\"-\");\n      let firstPart = word.substring(0, dashIndex);\n      let secondPart = word.substring(dashIndex + 1);\n      if (firstPart.length != 5 || secondPart.length != 5 || Number.isNaN(Number(firstPart)) || Number.isNaN(Number(secondPart))) {\n        return false;\n      }\n      return true;\n    }\n    if (Number.isNaN(Number(word)) || word.length != 5) {\n      return false;\n    }\n    return true;\n  }\n  callCountWait() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      console.log(\"In here\");\n      yield _this.callCountAsync();\n      console.log(_this.d);\n    })();\n  }\n  callCountAsync() {\n    return new Promise(() => this.count());\n  }\n  count() {\n    /*\n    Have a list of visited tags\n    For every item in the JSON file\n    If the tag-ZIP pair is already in visited, increase by 1\n    Otherwise, set to 1\n    \n    */\n    //currently creates dictionary of dictionaries\n    //Tag: <ZIP:number of tag-zip occurrences>\n    //still need to make it skip undefined zip codes\n    //will hard code the tags \n    //all the tags from the MasterList\n    //Piggy,Yoga,PAWS,Dirt,Lighthouse,Art,Block,Storytime,Scavenger,Smoke,\n    //Underliner,Colors,Com,Shen,Gratitude,Seuss,Fam,Marcus,Zumba,Cage,Cinderfit,Walk4,\n    //Cocktails,Not,Global,GMD,Jr,Halloween,Typoe,Bootleg,MLK,Public\n    let d = new Map();\n    let visited = [];\n    let currentNumber;\n    //use substring(7) for tags to get rid of date\n    //let result = this.all_tags.filter((word)=>\"030423 Pigy Day\".includes(word))\n    //result will be a list of one element\n    //check if result isn't empty\n    //choose result[0] for looking in/adding to\n    //visited\n    //console.log(result)\n    for (let i = 0; i < this.fileJSON.length; i++) {\n      let current_tag;\n      //console.log(this.fileJSON[i]['Tag'])\n      if (typeof this.fileJSON[i].Tag === 'string') {\n        let result = this.all_tags.filter(word => this.fileJSON[i]['Tag'].includes(word));\n        //add a result[0] and if result.length here\n        if (result.length) {\n          current_tag = result[0];\n          if (visited.includes(current_tag)) {\n            currentNumber = d.get(current_tag)?.get(this.fileJSON[i]['ZIP']);\n            if (currentNumber) {\n              d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], currentNumber + 1);\n            } else {\n              d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], 1);\n            }\n          } else {\n            d.set(current_tag, new Map());\n            d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], 1);\n            visited.push(current_tag);\n          }\n        }\n      }\n      if (i === this.fileJSON.length - 1) {\n        console.log(\"Done\");\n        this.testFunction();\n      }\n    }\n    //console.log(d)\n    /*console.log()\n    console.log(visited) */\n  }\n}\n_class = FileSelectComponent;\n_class.ɵfac = function FileSelectComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-file-select\"]],\n  inputs: {\n    fileJSON: \"fileJSON\",\n    chosenFunction: \"chosenFunction\"\n  },\n  outputs: {\n    sendValue: \"sendValue\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"text-red-50\"]],\n  template: function FileSelectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\", 0);\n      i0.ɵɵtext(1, \"Hello\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJmaWxlLXNlbGVjdC5jb21wb25lbnQuc2NzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlsZS1zZWxlY3QvZmlsZS1zZWxlY3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLHdLQUF3SyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["EventEmitter","FileSelectComponent","constructor","sendValue","d","Map","all_tags","ngOnInit","console","log","fileJSON","set","testFunction","emit","zipIsBad","word","includes","dashIndex","indexOf","firstPart","substring","secondPart","length","Number","isNaN","callCountWait","_this","_asyncToGenerator","callCountAsync","Promise","count","visited","currentNumber","i","current_tag","Tag","result","filter","get","push","selectors","inputs","chosenFunction","outputs","decls","vars","consts","template","FileSelectComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\macse\\Downloads\\ZipProject\\src\\app\\file-select\\file-select.component.ts","C:\\Users\\macse\\Downloads\\ZipProject\\src\\app\\file-select\\file-select.component.html"],"sourcesContent":["import { Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\nimport { read, utils } from 'xlsx';\n\n@Component({\n  selector: 'app-file-select',\n  templateUrl: './file-select.component.html',\n  styleUrls: ['./file-select.component.scss']\n})\nexport class FileSelectComponent implements OnInit{\n  \n  ngOnInit() {\n    console.log(this.fileJSON)\n    this.d.set(\"l\", \"o\")\n    //console.log(this.d)\n    //this.callCountWait()\n    //console.log(this.d)\n  }\n\n@Input() fileJSON: any;\n@Input() chosenFunction: any;\n@Output() sendValue = new EventEmitter<any>();\n\ntestFunction(){\n  this.sendValue.emit(this.d)\n}\n\nd = new Map<string, string>();\n\nall_tags:string[] = [\n  \"Piggy\",\"Yoga\",\"PAWS\",\"Dirt\",\"Lighthouse\",\"Art\",\"Block\",\"Storytime\",\"Scavenger\",\"Smoke\",\n\"Underliner\",\"Colors\",\"Com\",\"Shen\",\"Gratitude\",\"Seuss\",\"Fam\",\"Marcus\",\"Zumba\",\"Cage\",\"Cinderfit\",\"Walk4\",\n\"Cocktails\",\"Not\",\"Global\",\"GMD\",\"Jr\",\"Halloween\",\"Typoe\",\"Bootleg\",\"MLK\",\"Public\"\n]\n\nzipIsBad(word:string):Boolean{\n/*Bad if\nNo Dash:\nNot 5 characters\nNot numeric\n\nWith Dash:\nNot 5 characters before and after dash\n\n*/\n\nif(word.includes(\"-\")){\n  let dashIndex:number = word.indexOf(\"-\");\n  let firstPart = word.substring(0,dashIndex)\n  let secondPart = word.substring(dashIndex+1)\n  if(firstPart.length != 5 || secondPart.length != 5\n    || Number.isNaN(Number(firstPart)) ||\n     Number.isNaN(Number(secondPart)) ){\n      return false\n     }\n     return true\n}\n\nif(Number.isNaN(Number(word)) ||\nword.length != 5){\nreturn false\n}\nreturn true\n}\n\nasync callCountWait(){\n  console.log(\"In here\")\n  await this.callCountAsync();\n  console.log(this.d)\n}\ncallCountAsync(){\n  return new Promise(() => this.count()\n  )\n}\n\ncount(){\n/*\nHave a list of visited tags\nFor every item in the JSON file\nIf the tag-ZIP pair is already in visited, increase by 1\nOtherwise, set to 1\n\n*/\n\n//currently creates dictionary of dictionaries\n//Tag: <ZIP:number of tag-zip occurrences>\n//still need to make it skip undefined zip codes\n\n//will hard code the tags \n//all the tags from the MasterList\n//Piggy,Yoga,PAWS,Dirt,Lighthouse,Art,Block,Storytime,Scavenger,Smoke,\n//Underliner,Colors,Com,Shen,Gratitude,Seuss,Fam,Marcus,Zumba,Cage,Cinderfit,Walk4,\n//Cocktails,Not,Global,GMD,Jr,Halloween,Typoe,Bootleg,MLK,Public\n\n\nlet d = new Map<String, Map<string, number>>()\nlet visited: any[] = []\nlet currentNumber:number|undefined;\n//use substring(7) for tags to get rid of date\n\n//let result = this.all_tags.filter((word)=>\"030423 Pigy Day\".includes(word))\n//result will be a list of one element\n//check if result isn't empty\n//choose result[0] for looking in/adding to\n//visited\n\n//console.log(result)\n\nfor(let i:number = 0;i<this.fileJSON.length;i++){\n  let current_tag:string;\n  //console.log(this.fileJSON[i]['Tag'])\n  if(typeof this.fileJSON[i].Tag === 'string'){\n  let result = this.all_tags.filter((word)=>this.fileJSON[i]['Tag'].includes(word))\n  //add a result[0] and if result.length here\n  if(result.length){\n  current_tag = result[0];\n  if(visited.includes(current_tag)){\n  currentNumber = d.get(current_tag)?.get(this.fileJSON[i]['ZIP'])\n      if(currentNumber){\n      d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], currentNumber+1)\n      }\n      else{\n        d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], 1)\n\n      }\n    }\n\n    else{\n      d.set(current_tag, \n      new Map<string, number>())\n      d.get(current_tag)?.set(this.fileJSON[i]['ZIP'], 1)\n      visited.push(current_tag)\n    \n    }\n  }\n}\nif(i === this.fileJSON.length -1){\n  console.log(\"Done\")\n  this.testFunction();\n}\n\n}\n\n //console.log(d)\n/*console.log()\nconsole.log(visited) */\n}\n\n\n}\n","<p class=\"text-red-50\">Hello</p>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}